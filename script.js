// Language Translations
const translations = {
    es: {
        'nav-home': 'Inicio',
        'nav-about': 'Acerca de',
        'nav-skills': 'Habilidades',
        'nav-projects': 'Proyectos',
        'nav-certifications': 'Certificaciones',
        'nav-contact': 'Contacto',
        'home-name': 'Jorge Luis Sandoval Urenda',
        'home-title': 'Estudiante de Tecnologías de la Información',
        'home-view-projects': 'Ver Proyectos',
        'home-download-cv': 'Descargar CV',
        'about-title': 'Acerca de Mí',
        'about-description-1': 'Soy Jorge Luis Sandoval Urenda, estudiante apasionado de Tecnologías de la Información con un enfoque especializado en desarrollo de software. Mi experiencia académica me ha permitido adquirir sólidos conocimientos en programación, bases de datos, y arquitectura de sistemas.',
        'about-description-2': 'Mi objetivo es crear soluciones tecnológicas innovadoras que combinen funcionalidad, rendimiento y experiencia de usuario excepcional.',
        'about-description-3': 'Estoy constantemente aprendiendo nuevas tecnologías y mejorando mis habilidades para mantenerme actualizado con las últimas tendencias en el desarrollo de software. Mi enfoque se centra en escribir código limpio, eficiente y mantenible.',
        'skills-title': 'Habilidades Técnicas',
        'skills-frontend': 'Frontend',
        'skills-backend': 'Backend',
        'skills-databases': 'Bases de Datos',
        'skills-tools': 'Herramientas',
        'skills-mobile': 'Móvil',
        'skills-other': 'Otros',
        'projects-title': 'Proyectos',
        'project1-title': 'Plataforma E-Commerce',
        'project1-description': 'Plataforma de comercio electrónico completa con sistema de autenticación, carrito de compras, pasarela de pagos integrada y panel de administración. Desarrollada con React y Node.js.',
        'project2-title': 'Aplicación de Gestión de Tareas',
        'project2-description': 'Aplicación web para gestión de tareas con funcionalidades de colaboración en tiempo real, seguimiento de progreso y notificaciones. Incluye autenticación de usuarios y almacenamiento en la nube.',
        'project-demo': 'Ver Demo',
        'certifications-title': 'Certificaciones y Logros',
        'cert1-title': 'CCNA: Switching, Routing, and Wireless Essentials',
        'cert1-org': 'Cisco',
        'cert1-year': '2025',
        'cert2-title': 'UPSIN Ing. en TI: Switching, Routing, and Wireless Essentials',
        'cert2-org': 'Alberto Morales Colado',
        'cert2-year': '2025',
        'cert3-title': 'networking academy learn-a-thon 2025',
        'cert3-org': 'Cisco',
        'cert3-year': '2025',
        'contact-title': 'Contacto',
        'contact-description': '¿Interesado en colaborar o tienes alguna pregunta? No dudes en contactarme.',
        'contact-download-cv': 'Descargar CV',
        'footer-text': '© 2024 Jorge Luis Sandoval Urenda. Todos los derechos reservados.',
        'skip-link': 'Saltar al contenido principal'
    },
    en: {
        'nav-home': 'Home',
        'nav-about': 'About',
        'nav-skills': 'Skills',
        'nav-projects': 'Projects',
        'nav-certifications': 'Certifications',
        'nav-contact': 'Contact',
        'home-name': 'Jorge Luis Sandoval Urenda',
        'home-title': 'Computer Information Technology Student',
        'home-view-projects': 'View Projects',
        'home-download-cv': 'Download CV',
        'about-title': 'About Me',
        'about-description-1': 'I am Jorge Luis Sandoval Urenda, a passionate Computer Information Technology student with a specialized focus on software development. My academic experience has allowed me to acquire solid knowledge in programming, databases, and system architecture.',
        'about-description-2': 'My goal is to create innovative technological solutions that combine functionality, performance, and exceptional user experience.',
        'about-description-3': 'I am constantly learning new technologies and improving my skills to stay updated with the latest trends in software development. My approach focuses on writing clean, efficient, and maintainable code.',
        'skills-title': 'Technical Skills',
        'skills-frontend': 'Frontend',
        'skills-backend': 'Backend',
        'skills-databases': 'Databases',
        'skills-tools': 'Tools',
        'skills-mobile': 'Mobile',
        'skills-other': 'Other',
        'projects-title': 'Projects',
        'project1-title': 'E-Commerce Platform',
        'project1-description': 'Complete e-commerce platform with authentication system, shopping cart, integrated payment gateway, and admin panel. Developed with React and Node.js.',
        'project2-title': 'Task Management Application',
        'project2-description': 'Web application for task management with real-time collaboration features, progress tracking, and notifications. Includes user authentication and cloud storage.',
        'project-demo': 'View Demo',
        'certifications-title': 'Certifications & Achievements',
        'cert1-title': 'CCNA: Switching, Routing, and Wireless Essentials',
        'cert1-org': 'Cisco',
        'cert1-year': '2025',
        'cert2-title': 'UPSIN Ing. en TI: Switching, Routing, and Wireless Essentials',
        'cert2-org': 'Alberto Morales Colado',
        'cert2-year': '2025',
        'cert3-title': 'networking academy learn-a-thon 2025',
        'cert3-org': 'Cisco',
        'cert3-year': '2025',
        'contact-title': 'Contact',
        'contact-description': 'Interested in collaborating or have a question? Feel free to contact me.',
        'contact-download-cv': 'Download CV',
        'footer-text': '© 2024 Jorge Luis Sandoval Urenda. All rights reserved.',
        'skip-link': 'Skip to main content'
    },
    fr: {
        'nav-home': 'Accueil',
        'nav-about': 'À propos',
        'nav-skills': 'Compétences',
        'nav-projects': 'Projets',
        'nav-certifications': 'Certifications',
        'nav-contact': 'Contact',
        'home-name': 'Jorge Luis Sandoval Urenda',
        'home-title': 'Étudiant en Technologies de l\'Information',
        'home-view-projects': 'Voir les Projets',
        'home-download-cv': 'Télécharger CV',
        'about-title': 'À propos de moi',
        'about-description-1': 'Je suis Jorge Luis Sandoval Urenda, étudiant passionné en Technologies de l\'Information avec un accent spécialisé sur le développement de logiciels. Mon expérience académique m\'a permis d\'acquérir des connaissances solides en programmation, bases de données et architecture système.',
        'about-description-2': 'Mon objectif est de créer des solutions technologiques innovantes qui combinent fonctionnalité, performance et expérience utilisateur exceptionnelle.',
        'about-description-3': 'J\'apprends constamment de nouvelles technologies et j\'améliore mes compétences pour rester à jour avec les dernières tendances en développement de logiciels. Mon approche se concentre sur l\'écriture de code propre, efficace et maintenable.',
        'skills-title': 'Compétences Techniques',
        'skills-frontend': 'Frontend',
        'skills-backend': 'Backend',
        'skills-databases': 'Bases de données',
        'skills-tools': 'Outils',
        'skills-mobile': 'Mobile',
        'skills-other': 'Autres',
        'projects-title': 'Projets',
        'project1-title': 'Plateforme E-Commerce',
        'project1-description': 'Plateforme de commerce électronique complète avec système d\'authentification, panier d\'achat, passerelle de paiement intégrée et panneau d\'administration. Développée avec React et Node.js.',
        'project2-title': 'Application de Gestion de Tâches',
        'project2-description': 'Application web de gestion de tâches avec fonctionnalités de collaboration en temps réel, suivi des progrès et notifications. Inclut l\'authentification des utilisateurs et le stockage cloud.',
        'project-demo': 'Voir la Démo',
        'certifications-title': 'Certifications et Réalisations',
        'cert1-title': 'CCNA: Switching, Routing, and Wireless Essentials',
        'cert1-org': 'Cisco',
        'cert1-year': '2025',
        'cert2-title': 'UPSIN Ing. en TI: Switching, Routing, and Wireless Essentials',
        'cert2-org': 'Alberto Morales Colado',
        'cert2-year': '2025',
        'cert3-title': 'networking academy learn-a-thon 2025',
        'cert3-org': 'Cisco',
        'cert3-year': '2025',
        'contact-title': 'Contact',
        'contact-description': 'Intéressé par une collaboration ou avez une question? N\'hésitez pas à me contacter.',
        'contact-download-cv': 'Télécharger CV',
        'footer-text': '© 2024 Jorge Luis Sandoval Urenda. Tous droits réservés.',
        'skip-link': 'Aller au contenu principal'
    }
};

// Current language
let currentLang = 'es';

// Initialize page
document.addEventListener('DOMContentLoaded', function() {
    initializeLanguage();
    initializeNavigation();
    initializeMobileMenu();
    initializeSmoothScrolling();
});

// Language Functions
function initializeLanguage() {
    // Get saved language or default to Spanish
    const savedLang = localStorage.getItem('portfolio-language') || 'es';
    setLanguage(savedLang);
    
    // Add event listeners to language buttons
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const lang = this.dataset.lang;
            setLanguage(lang);
            localStorage.setItem('portfolio-language', lang);
        });
    });
}

function setLanguage(lang) {
    currentLang = lang;
    const texts = translations[lang];
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (texts[key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = texts[key];
            } else {
                element.textContent = texts[key];
            }
        }
    });
    
    // Update HTML lang attribute
    document.documentElement.lang = lang;
    
    // Update active language button (both desktop and mobile)
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        btn.setAttribute('aria-pressed', 'false');
        if (btn.dataset.lang === lang) {
            btn.classList.add('active');
            btn.setAttribute('aria-pressed', 'true');
        }
    });
}

// Navigation Functions
function initializeNavigation() {
    // Add active class to current section link
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('section[id]');
    
    window.addEventListener('scroll', function() {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (scrollY >= sectionTop - 100) {
                current = section.getAttribute('id');
            }
        });
        
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === `#${current}`) {
                link.classList.add('active');
            }
        });
    });
}

function initializeMobileMenu() {
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    
    if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener('click', function() {
            mobileMenu.classList.toggle('hidden');
            const icon = mobileMenuBtn.querySelector('i');
            if (mobileMenu.classList.contains('hidden')) {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            } else {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            }
        });
        
        // Close menu when clicking on a link
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', function() {
                mobileMenu.classList.add('hidden');
                const icon = mobileMenuBtn.querySelector('i');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            });
        });
    }
}

// Smooth Scrolling
function initializeSmoothScrolling() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetSection = document.querySelector(targetId);
            if (targetSection) {
                const offsetTop = targetSection.offsetTop - 80;
                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
            }
        });
    });
}

// Add scroll reveal animation
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -100px 0px'
};

const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Observe all sections and cards for scroll animations
document.addEventListener('DOMContentLoaded', function() {
    const animatedElements = document.querySelectorAll('section, .skill-card, .project-card, .certification-card');
    animatedElements.forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });
});

// Handle image loading errors (fallback for missing images)
document.addEventListener('DOMContentLoaded', function() {
    const images = document.querySelectorAll('img');
    images.forEach(img => {
        img.addEventListener('error', function() {
            // Create a placeholder gradient background if image fails to load
            this.style.display = 'none';
            const placeholder = document.createElement('div');
            placeholder.className = 'w-full h-full bg-gradient-to-br from-electric-blue/20 to-electric-purple/20';
            placeholder.style.display = 'flex';
            placeholder.style.alignItems = 'center';
            placeholder.style.justifyContent = 'center';
            placeholder.innerHTML = '<i class="fas fa-image text-4xl text-gray-500"></i>';
            this.parentElement.appendChild(placeholder);
        });
    });
});

